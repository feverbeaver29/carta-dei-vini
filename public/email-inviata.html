<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Conferma Email Inviata - Wine's Fever</title>
  <style>
    body {
      background-color: #fff9f4;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      background: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      text-align: center;
      max-width: 500px;
    }
    h1 {
      color: #b00;
      margin-bottom: 1rem;
    }
    p {
      font-size: 1.1rem;
    }
    small {
      display: block;
      margin-top: 20px;
      color: #999;
    }
    .topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  margin-bottom: 16px;
}
.lang-wrap{
  display:flex;
  align-items:center;
  gap:8px;
}
.lang-wrap label{ margin:0; font-size:0.9em; color:#555; }
.lang-wrap select{
  padding:6px 10px;
  border-radius:10px;
  border:1px solid #ccc;
  background:#fff;
}
  </style>
</head>
<body>
  <div class="container">
    <div class="topbar">
  <div></div>
  <div class="lang-wrap">
    <label id="langLabel" for="langSelect">Lingua</label>
    <select id="langSelect">
      <option value="it">Italiano</option>
      <option value="en">English</option>
      <option value="fr">FranÃ§ais</option>
      <option value="es">EspaÃ±ol</option>
    </select>
  </div>
</div>
<h1 data-i18n="title">ðŸ“¬ Quasi fatto!</h1>
<p data-i18n="p1">Ti abbiamo appena inviato un'email per confermare il tuo account.</p>
<p data-i18n="p2">Controlla la tua casella di posta e clicca sul link per attivare il tuo profilo.</p>
<small data-i18n="p3">Non trovi lâ€™email? Controlla anche nello spam.</small>
  </div>
  <script>
  const SUPPORTED_LANGS = ["it","en","fr","es"];
  let currentLang = "it";

  const TRANSLATIONS = {
    it:{ language:"Lingua", title:"ðŸ“¬ Quasi fatto!", p1:"Ti abbiamo appena inviato un'email per confermare il tuo account.", p2:"Controlla la tua casella di posta e clicca sul link per attivare il tuo profilo.", p3:"Non trovi lâ€™email? Controlla anche nello spam." },
    en:{ language:"Language", title:"ðŸ“¬ Almost done!", p1:"Weâ€™ve just sent you an email to confirm your account.", p2:"Check your inbox and click the link to activate your profile.", p3:"Canâ€™t find it? Check your spam folder too." },
    fr:{ language:"Langue", title:"ðŸ“¬ Presque fini !", p1:"Nous venons de vous envoyer un e-mail pour confirmer votre compte.", p2:"VÃ©rifiez votre boÃ®te de rÃ©ception et cliquez sur le lien pour activer votre profil.", p3:"Vous ne le trouvez pas ? VÃ©rifiez aussi les spams." },
    es:{ language:"Idioma", title:"ðŸ“¬ Â¡Casi listo!", p1:"Te acabamos de enviar un correo para confirmar tu cuenta.", p2:"Revisa tu bandeja de entrada y haz clic en el enlace para activar tu perfil.", p3:"Â¿No lo encuentras? Revisa tambiÃ©n el spam." }
  };

  function normalizeLang(raw){
    const s=(raw||"").toLowerCase();
    if (s.startsWith("it")) return "it";
    if (s.startsWith("fr")) return "fr";
    if (s.startsWith("es")) return "es";
    return "en";
  }
  function t(key){
    const dict = TRANSLATIONS[currentLang] || TRANSLATIONS.en;
    return (dict && dict[key]) || (TRANSLATIONS.en && TRANSLATIONS.en[key]) || key;
  }
  function setLang(lang, persist=true){
    currentLang = SUPPORTED_LANGS.includes(normalizeLang(lang)) ? normalizeLang(lang) : "en";
    document.documentElement.lang = currentLang;
    if (persist) localStorage.setItem("wf_lang", currentLang);

    const sel = document.getElementById("langSelect");
    if (sel) sel.value = currentLang;

    applyTranslations();

    const url = new URL(window.location.href);
    url.searchParams.set("lang", currentLang);
    history.replaceState(null, "", url.toString());
  }
  function initLanguage(){
    const qp = new URLSearchParams(window.location.search);
    const langFromUrl = qp.get("lang");
    const saved = localStorage.getItem("wf_lang");
    const auto  = normalizeLang(navigator.language||"");
    setLang(langFromUrl || saved || auto, !saved);

    const sel = document.getElementById("langSelect");
    if (sel) sel.addEventListener("change", e => setLang(e.target.value, true));
  }
  function applyTranslations(){
    const langLbl = document.getElementById("langLabel");
    if (langLbl) langLbl.textContent = t("language");
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      el.textContent = t(el.getAttribute("data-i18n"));
    });
    document.title = "Wine's Fever - " + t("title").replace("ðŸ“¬ ","");
  }

  document.addEventListener("DOMContentLoaded", initLanguage);
</script>
</body>
</html>
